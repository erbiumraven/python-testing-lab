{"uid":"675c26be63bcd98","name":"test_find_pets_single_tag","fullName":"tests.api.test_pet_tags.TestFindPetByTag#test_find_pets_single_tag","historyId":"caa2af017b06c9df9b3a23e8f173930d","time":{"start":1759062807626,"stop":1759062807635,"duration":9},"description":"Find pets by a single tag returns all matching pets","descriptionHtml":"<p>Find pets by a single tag returns all matching pets</p>\n","status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for Pet\nname\n  Field required [type=missing, input_value={'id': 470074, 'category'..., 'status': 'available'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_pet_tags.TestFindPetByTag object at 0x7fa6e67e7210>\nsession = <requests.sessions.Session object at 0x7fa6e661e290>\npet_tags_url = 'https://petstore3.swagger.io/api/v3/pet/findByTags'\ntest_pet = {'category': {'id': 1, 'name': 'Dogs'}, 'id': 500767, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}\n\n    @allure.description(\"Find pets by a single tag returns all matching pets\")\n    def test_find_pets_single_tag(self, session, pet_tags_url, test_pet):\n        first_tag = test_pet[\"tags\"][0][\"name\"]\n        url = f\"{pet_tags_url}?tags={first_tag}\"\n        response = get_with_allure(session, url)\n>       assert_pet_tags_success(response, {first_tag}, [test_pet])\n\ntests/api/test_pet_tags.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nhelpers/assertion_helper.py:134: in assert_pet_tags_success\n    pets = [Pet(**p) for p in json_data]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n.0 = <list_iterator object at 0x7fa6e67f4220>\n\n>   pets = [Pet(**p) for p in json_data]\n            ^^^^^^^^\nE   pydantic_core._pydantic_core.ValidationError: 1 validation error for Pet\nE   name\nE     Field required [type=missing, input_value={'id': 470074, 'category'..., 'status': 'available'}, input_type=dict]\nE       For further information visit https://errors.pydantic.dev/2.11/v/missing\n\nhelpers/assertion_helper.py:134: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1759062807019,"stop":1759062807019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759062807019,"stop":1759062807019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759062807019,"stop":1759062807020,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759062807019,"stop":1759062807019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"session","time":{"start":1759062807020,"stop":1759062807020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_url","time":{"start":1759062807020,"stop":1759062807020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759062807020,"stop":1759062807020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1759062807020,"stop":1759062807020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_tags_url","time":{"start":1759062807588,"stop":1759062807588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_pet","time":{"start":1759062807620,"stop":1759062807626,"duration":6},"status":"passed","steps":[{"name":"POST /api/v3/pet","time":{"start":1759062807620,"stop":1759062807626,"duration":6},"status":"passed","steps":[],"attachments":[{"uid":"9eb44ad263b23ad2","name":"Request","source":"9eb44ad263b23ad2.json","type":"application/json","size":538},{"uid":"5eb44862dc57ac0d","name":"Response","source":"5eb44862dc57ac0d.json","type":"application/json","size":795}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Find pets by a single tag returns all matching pets","status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for Pet\nname\n  Field required [type=missing, input_value={'id': 470074, 'category'..., 'status': 'available'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_pet_tags.TestFindPetByTag object at 0x7fa6e67e7210>\nsession = <requests.sessions.Session object at 0x7fa6e661e290>\npet_tags_url = 'https://petstore3.swagger.io/api/v3/pet/findByTags'\ntest_pet = {'category': {'id': 1, 'name': 'Dogs'}, 'id': 500767, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}\n\n    @allure.description(\"Find pets by a single tag returns all matching pets\")\n    def test_find_pets_single_tag(self, session, pet_tags_url, test_pet):\n        first_tag = test_pet[\"tags\"][0][\"name\"]\n        url = f\"{pet_tags_url}?tags={first_tag}\"\n        response = get_with_allure(session, url)\n>       assert_pet_tags_success(response, {first_tag}, [test_pet])\n\ntests/api/test_pet_tags.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nhelpers/assertion_helper.py:134: in assert_pet_tags_success\n    pets = [Pet(**p) for p in json_data]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n.0 = <list_iterator object at 0x7fa6e67f4220>\n\n>   pets = [Pet(**p) for p in json_data]\n            ^^^^^^^^\nE   pydantic_core._pydantic_core.ValidationError: 1 validation error for Pet\nE   name\nE     Field required [type=missing, input_value={'id': 470074, 'category'..., 'status': 'available'}, input_type=dict]\nE       For further information visit https://errors.pydantic.dev/2.11/v/missing\n\nhelpers/assertion_helper.py:134: ValidationError","steps":[{"name":"GET /api/v3/pet/findByTags","time":{"start":1759062807627,"stop":1759062807634,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"e28c97018abb583e","name":"Request","source":"e28c97018abb583e.json","type":"application/json","size":211},{"uid":"c488ce82e9a7e580","name":"Response","source":"c488ce82e9a7e580.json","type":"application/json","size":26453}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that pets with tags {'string'} (200)","time":{"start":1759062807634,"stop":1759062807635,"duration":1},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for Pet\nname\n  Field required [type=missing, input_value={'id': 470074, 'category'..., 'status': 'available'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n","statusTrace":"  File \"/home/runner/work/python-testing-lab/python-testing-lab/helpers/assertion_helper.py\", line 134, in assert_pet_tags_success\n    pets = [Pet(**p) for p in json_data]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-testing-lab/python-testing-lab/helpers/assertion_helper.py\", line 134, in <listcomp>\n    pets = [Pet(**p) for p in json_data]\n            ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_pet::0","time":{"start":1759062807642,"stop":1759062807648,"duration":6},"status":"passed","steps":[{"name":"DELETE /api/v3/pet/500767","time":{"start":1759062807642,"stop":1759062807648,"duration":6},"status":"passed","steps":[],"attachments":[{"uid":"907c1189e5f5a983","name":"Request","source":"907c1189e5f5a983.json","type":"application/json","size":211},{"uid":"35119f4bd83db9f5","name":"Response","source":"35119f4bd83db9f5.json","type":"application/json","size":492}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Pet API"},{"name":"story","value":"Get Pet by Tags"},{"name":"tag","value":"pet_tags"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_pet_tags"},{"name":"subSuite","value":"TestFindPetByTag"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2104-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_pet_tags"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":["pet_tags"]},"source":"675c26be63bcd98.json","parameterValues":[]}