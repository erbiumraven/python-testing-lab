{"uid":"cba6d9fa581aab1b","name":"test_find_pets_by_status[pending]","fullName":"tests.api.test_pet_status.TestFindPetByStatus#test_find_pets_by_status","historyId":"6ccfde817cdae3464fc1fb0fbe6c2d7b","time":{"start":1759063605991,"stop":1759063606015,"duration":24},"description":"Find pets by a single valid status returns matching pets.","descriptionHtml":"<p>Find pets by a single valid status returns matching pets.</p>\n","status":"failed","statusMessage":"AssertionError: Pet with id=872919 not found in response. Note: this is a limitation of the test server; on production this cannot happen.","statusTrace":"self = <test_pet_status.TestFindPetByStatus object at 0x7f71028d3f90>\nsession = <requests.sessions.Session object at 0x7f710270e890>\npet_status_url = 'https://petstore3.swagger.io/api/v3/pet/findByStatus'\npet_with_status = {'category': {'id': 1, 'name': 'Dogs'}, 'id': 872919, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}\n\n    @allure.description(\"Find pets by a single valid status returns matching pets.\")\n    def test_find_pets_by_status(self, session, pet_status_url, pet_with_status):\n        status = pet_with_status[\"status\"]\n        url = f\"{pet_status_url}?status={status}\"\n        response = get_with_allure(session, url)\n>       assert_pets_status_success(response, {status}, [pet_with_status])\n\ntests/api/test_pet_status.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>, status_set = {'pending'}\ntest_pet_list = [{'category': {'id': 1, 'name': 'Dogs'}, 'id': 872919, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}]\n\n    def assert_pets_status_success(response, status_set, test_pet_list):\n        with (allure.step(f'Verify that pets with status in {status_set} (200)')):\n            assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\n    \n            json_data = response.json()\n    \n            assert len(json_data) >= len(test_pet_list), \\\n                f\"Expected at least {len(test_pet_list)} pet(s) in response, but got len(json_data) pet(s)\"\n    \n            pets = [Pet(**p) for p in json_data]\n    \n            for pet in pets:\n                assert pet.status in status_set, f\"Expected status in {status_set}, got {pet.status}\"\n    \n            for test_pet_status in test_pet_list:\n                actual_pet = next((pet for pet in pets if pet.id == test_pet_status['id']), None)\n>               assert actual_pet is not None, (\n                       ^^^^^^^^^^^^^^^^^^^^^^\n                    f\"Pet with id={test_pet_status['id']} not found in response. \"\n                    \"Note: this is a limitation of the test server; on production this cannot happen.\"\n                )\nE               AssertionError: Pet with id=872919 not found in response. Note: this is a limitation of the test server; on production this cannot happen.\n\nhelpers/assertion_helper.py:96: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1759063605088,"stop":1759063605088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759063605088,"stop":1759063605088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759063605088,"stop":1759063605088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759063605088,"stop":1759063605088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759063605088,"stop":1759063605088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_url","time":{"start":1759063605089,"stop":1759063605089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_environment","time":{"start":1759063605089,"stop":1759063605089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"session","time":{"start":1759063605089,"stop":1759063605089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_status_url","time":{"start":1759063605865,"stop":1759063605865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_with_status","time":{"start":1759063605968,"stop":1759063605991,"duration":23},"status":"passed","steps":[{"name":"POST /api/v3/pet","time":{"start":1759063605968,"stop":1759063605991,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"cd6ada8bf8606ef","name":"Request","source":"cd6ada8bf8606ef.json","type":"application/json","size":536},{"uid":"41ea1297e358080c","name":"Response","source":"41ea1297e358080c.json","type":"application/json","size":793}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Find pets by a single valid status returns matching pets.","status":"failed","statusMessage":"AssertionError: Pet with id=872919 not found in response. Note: this is a limitation of the test server; on production this cannot happen.","statusTrace":"self = <test_pet_status.TestFindPetByStatus object at 0x7f71028d3f90>\nsession = <requests.sessions.Session object at 0x7f710270e890>\npet_status_url = 'https://petstore3.swagger.io/api/v3/pet/findByStatus'\npet_with_status = {'category': {'id': 1, 'name': 'Dogs'}, 'id': 872919, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}\n\n    @allure.description(\"Find pets by a single valid status returns matching pets.\")\n    def test_find_pets_by_status(self, session, pet_status_url, pet_with_status):\n        status = pet_with_status[\"status\"]\n        url = f\"{pet_status_url}?status={status}\"\n        response = get_with_allure(session, url)\n>       assert_pets_status_success(response, {status}, [pet_with_status])\n\ntests/api/test_pet_status.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>, status_set = {'pending'}\ntest_pet_list = [{'category': {'id': 1, 'name': 'Dogs'}, 'id': 872919, 'name': 'Hardy', 'photoUrls': ['https://pixabay.com/photos/pomeranian-dog-puppy-mammal-animal-8096885/'], ...}]\n\n    def assert_pets_status_success(response, status_set, test_pet_list):\n        with (allure.step(f'Verify that pets with status in {status_set} (200)')):\n            assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\n    \n            json_data = response.json()\n    \n            assert len(json_data) >= len(test_pet_list), \\\n                f\"Expected at least {len(test_pet_list)} pet(s) in response, but got len(json_data) pet(s)\"\n    \n            pets = [Pet(**p) for p in json_data]\n    \n            for pet in pets:\n                assert pet.status in status_set, f\"Expected status in {status_set}, got {pet.status}\"\n    \n            for test_pet_status in test_pet_list:\n                actual_pet = next((pet for pet in pets if pet.id == test_pet_status['id']), None)\n>               assert actual_pet is not None, (\n                       ^^^^^^^^^^^^^^^^^^^^^^\n                    f\"Pet with id={test_pet_status['id']} not found in response. \"\n                    \"Note: this is a limitation of the test server; on production this cannot happen.\"\n                )\nE               AssertionError: Pet with id=872919 not found in response. Note: this is a limitation of the test server; on production this cannot happen.\n\nhelpers/assertion_helper.py:96: AssertionError","steps":[{"name":"GET /api/v3/pet/findByStatus","time":{"start":1759063605992,"stop":1759063606015,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"5a9ea63264260c71","name":"Request","source":"5a9ea63264260c71.json","type":"application/json","size":211},{"uid":"d92c4f6ac5d4b0cc","name":"Response","source":"d92c4f6ac5d4b0cc.json","type":"application/json","size":2158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that pets with status in {'pending'} (200)","time":{"start":1759063606015,"stop":1759063606015,"duration":0},"status":"failed","statusMessage":"AssertionError: Pet with id=872919 not found in response. Note: this is a limitation of the test server; on production this cannot happen.\n","statusTrace":"  File \"/home/runner/work/python-testing-lab/python-testing-lab/helpers/assertion_helper.py\", line 96, in assert_pets_status_success\n    assert actual_pet is not None, (\n           ^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"pet_with_status::0","time":{"start":1759063606022,"stop":1759063606046,"duration":24},"status":"passed","steps":[{"name":"DELETE /api/v3/pet/872919","time":{"start":1759063606022,"stop":1759063606045,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"fd8b36ef0adc8718","name":"Request","source":"fd8b36ef0adc8718.json","type":"application/json","size":211},{"uid":"dac1228f22e1a4d3","name":"Response","source":"dac1228f22e1a4d3.json","type":"application/json","size":492}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"story","value":"Get Pet by Status"},{"name":"feature","value":"Pet API"},{"name":"tag","value":"pet_status"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_pet_status"},{"name":"subSuite","value":"TestFindPetByStatus"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2109-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_pet_status"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"pet_with_status","value":"'pending'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["pet_status"]},"source":"cba6d9fa581aab1b.json","parameterValues":["'pending'"]}